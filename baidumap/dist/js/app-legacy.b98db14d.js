(function(){var e={8484:function(e,t,a){"use strict";a(6992),a(8674),a(9601),a(7727);var l=a(9567),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("mapVue")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"componentDiv"},[a("el-row",{staticStyle:{height:"100%"}},[a("el-col",{staticStyle:{height:"100%"},attrs:{span:4}},[a("el-form",{ref:"form",staticStyle:{margin:"30px 10px 0"},attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"药物大类",prop:"dugClass"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.dugClass,callback:function(t){e.$set(e.form,"dugClass",t)},expression:"form.dugClass"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"生物药",value:"生物药"}}),a("el-option",{attrs:{label:"化药",value:"化药"}}),a("el-option",{attrs:{label:"生物药/化药",value:"生物药/化药"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),a("el-form-item",{attrs:{label:"具体类型",prop:"classInfo"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.classInfo,callback:function(t){e.$set(e.form,"classInfo",t)},expression:"form.classInfo"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._l(e.classInfoArr,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],2)],1),a("el-form-item",{attrs:{label:"公司规模",prop:"size"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.size,callback:function(t){e.$set(e.form,"size",t)},expression:"form.size"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"50人以下",value:"50人以下"}}),a("el-option",{attrs:{label:"50~100人",value:"50~100人"}}),a("el-option",{attrs:{label:"100~500人",value:"100~500人"}}),a("el-option",{attrs:{label:"500~1000人",value:"500~1000人"}}),a("el-option",{attrs:{label:"1000人以上",value:"1000人以上"}})],1)],1),a("el-form-item",{attrs:{label:"公司性质",prop:"nature"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._l(e.natureArr,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],2)],1),a("el-form-item",{attrs:{label:"是否上市",prop:"inMarket"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.inMarket,callback:function(t){e.$set(e.form,"inMarket",t)},expression:"form.inMarket"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"是",value:"是"}}),a("el-option",{attrs:{label:"否",value:"否"}})],1)],1),a("el-form-item",{attrs:{label:"所在省",prop:"province"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"江苏省",value:"江苏省"}}),a("el-option",{attrs:{label:"浙江省",value:"浙江省"}})],1)],1),a("el-form-item",{attrs:{label:"所在市",prop:"city"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"南京市",value:"南京市"}}),a("el-option",{attrs:{label:"苏州市",value:"苏州市"}}),a("el-option",{attrs:{label:"泰州市",value:"泰州市"}}),a("el-option",{attrs:{label:"杭州市",value:"杭州市"}}),a("el-option",{attrs:{label:"上海市",value:"上海市"}})],1)],1),a("el-form-item",{attrs:{label:"生产规模",prop:"productionSize"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.productionSize,callback:function(t){e.$set(e.form,"productionSize",t)},expression:"form.productionSize"}},[a("el-option",{attrs:{label:"请选择",value:""}}),a("el-option",{attrs:{label:"50L-100L",value:"50L-100L"}}),a("el-option",{attrs:{label:"100L-500L",value:"100L-500L"}}),a("el-option",{attrs:{label:"500L-2000L",value:"500L-2000L"}}),a("el-option",{attrs:{label:"2000L-10000L",value:"2000L-10000L"}}),a("el-option",{attrs:{label:"10000L以上",value:"10000L以上"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetData()}}},[e._v("重置")])],1)],1)],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:20}},[a("baidu-map",{staticClass:"mapStyle",attrs:{id:"map",center:e.centerPoint,zoom:9,"scroll-wheel-zoom":!0},on:{ready:e.handler}})],1)],1)],1)},r=[],s=a(4479),p=(a(1249),a(1539),a(2472),a(8675),a(2990),a(8927),a(3105),a(5035),a(4345),a(7174),a(2846),a(4731),a(7209),a(6319),a(8867),a(7789),a(3739),a(9368),a(4483),a(2056),a(3462),a(678),a(7462),a(3824),a(5021),a(2974),a(5016),a(4747),a(8309),a(6699),a(2023),a(7327),a(3245)),c=a.n(p),u=["抗体","重组蛋白","细胞治疗","基因治疗","ADC","RDC","mRNA"," 干细胞","多肽","疫苗","激素、细胞因子","血液制品","其他生物药","化学药物","非药物","其他信息"],f=["CRO","CDMO","耗材商","仪器商","自研药","其他第三方","CDMO+自研药"],m={data:function(){return{fullscreenLoading:!0,form:{name:"",size:"",nature:"",dugClass:"",classInfo:"",productionSize:"",inMarket:"",province:"",city:""},classInfoArr:u,natureArr:f,mapData:[],BMap:null,map:null,centerPoint:{lng:116.404,lat:39.915},markerArr:[],allData:[],markerPoint:{},content:"",err:"",xlsxJson:{},importHeader:["shortName","name","size","nature","inMarket","dugClass","classInfo","hasDevTeam","hasPoisonTeam","hasCMCTeam","hasClinicTeam","hasCommercialProd","hasPreparationLine","productionSize","province","city","adress","otherInfo"],expectData:[]}},methods:{handler:function(e){var t=e.BMap,a=e.map,l=this,n=new t.Geolocation;n.getCurrentPosition((function(e){l.BMap=t,l.map=a,l.centerPoint.lng=e.point.lng,l.centerPoint.lat=e.point.lat,l.getForExcel()}))},getForExcel:function(){var e=this,t="/task_list.xlsx";this.$http.get(t,{responseType:"arraybuffer"}).then((function(t){var a=new Uint8Array(t.data),l=c().read(a,{type:"array"}),n=[];l.SheetNames.forEach((function(t){n.push({sheetName:t,sheet:c().utils.sheet_to_json(l.Sheets[t],{header:e.importHeader,defval:""})})})),console.log(n),n[0].sheet.shift(),e.setLedgerList(n)})).catch((function(t){e.err=t}))},setLedgerList:function(e){var t=this;e[0].sheet.forEach((function(e){t.mapData.push(e)})),this.allData=(0,s.Z)(this.mapData),this.handleDataPoint()},handleDataPoint:function(){for(var e=this,t=this,a=this.BMap,l=this.map,n=new a.Geocoder,o=l.getOverlays(),i=o.length,r=function(t){e.expectData.some((function(e){return e.name===o[t].markName}))&&l.removeOverlay(o[t])},s=0;s<i;s++)r(s);if(0===t.mapData.length)return this.$message.error("没有匹配数据"),void(this.fullscreenLoading=!1);for(var p=function(e){n.getPoint(t.mapData[e].adress,(function(n){if(n){var o=new a.Marker(n,{title:t.mapData[e].name});o.markName=t.mapData[e].name,l.addOverlay(o),function(){o.addEventListener("mouseover",(function(){t.showInfo(this,t.mapData[e])})),o.addEventListener("mouseout",(function(){this.closeInfoWindow()}))}()}else alert("您选择的地址没有解析到结果！")}))},c=0;c<t.mapData.length;c++)p(c);this.fullscreenLoading=!1},showInfo:function(e,t){var a=this.BMap,l='<ul style="margin:0 0 5px 0;padding:0.2em 0"><li style="line-height: 26px;font-size: 15px;"><span style="display: inline-block;">名称：</span>'+t.name+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">简称：'+t.shortName+'</span><span class="infoSpan">公司规模：</span>'+t.size+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">公司性质：'+t.nature+'</span><span class="infoSpan">是否上市：</span>'+t.inMarket+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">药物大类：'+t.dugClass+'</span><span class="infoSpan">具体类型：</span>'+t.classInfo+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">早期研发团队：'+t.hasDevTeam+'</span><span class="infoSpan">药理毒理团队：</span>'+t.hasPoisonTeam+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">CMC团队：'+t.hasCMCTeam+'</span><span class="infoSpan">临床团队：</span>'+t.hasClinicTeam+'</li><li style="line-height: 26px;font-size: 15px;"><span class="labelSty">商业化生产：'+t.hasCommercialProd+'</span><span class="infoSpan">制剂灌装线：</span>'+t.hasPreparationLine+'</li><li style="line-height: 26px;font-size: 15px;"><span>生产规模：</span>'+t.productionSize+'</li><li style="line-height: 26px;font-size: 15px;max-width: 550px;"><span style="display: inline-block;">地址：</span>'+t.adress+"</li></ul>",n=new a.InfoWindow(l);e.openInfoWindow(n)},onSubmit:function(){for(var e in this.fullscreenLoading=!0,this.expectData=[],this.mapData=(0,s.Z)(this.allData),this.form)""!==this.form[e]&&this.filterData(e,this.form[e]);this.handleDataPoint()},filterData:function(e,t){var a=this;if("classInfo"===e){if(t.length>0){var l=[];this.mapData.forEach((function(n){t.every((function(t){return n[e].includes(t)}))?l.push(n):a.expectData.push(n)})),this.mapData=l}}else this.mapData=this.mapData.filter((function(l){return"name"===e||"dugClass"===e?(l[e].includes(t)||a.expectData.push(l),l[e].includes(t)):(l[e]!==t&&a.expectData.push(l),l[e]===t)}))},resetData:function(){this.fullscreenLoading=!0,this.$refs.form.resetFields(),this.mapData=(0,s.Z)(this.allData),this.expectData=[],this.handleDataPoint()}}},h=m,d=a(1001),v=(0,d.Z)(h,i,r,!1,null,"1e96cb34",null),b=v.exports,y={name:"App",components:{mapVue:b}},g=y,x=(0,d.Z)(g,n,o,!1,null,null,null),S=x.exports,D=a(4549),k=a.n(D),L=a(6166),w=a.n(L),C=a(8319),z=a.n(C);l["default"].prototype.$http=w(),l["default"].use(k()),l["default"].use(z(),{ak:"0SglCegTnQS2XzQLwDIEY8TVkrK6xWoW"}),l["default"].config.productionTip=!1,new l["default"]({render:function(e){return e(S)}}).$mount("#app")},5382:function(){},2095:function(){},1219:function(){}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var i=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var r=!0,s=0;s<l.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(r=!1,o<i&&(i=o));if(r){e.splice(c--,1);var p=n();void 0!==p&&(t=p)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],r=l[1],s=l[2],p=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(s)var c=s(a)}for(t&&t(l);p<i.length;p++)o=i[p],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunkbaidumap"]=self["webpackChunkbaidumap"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(8484)}));l=a.O(l)})();
//# sourceMappingURL=app-legacy.b98db14d.js.map